import{r as a,t as c,j as e,X,c as Y,P as Z}from"./index-8DrkAZ6i.js";import{C as o,a as g,b as f,d as b,c as N,B as m}from"./card-Ds7FwNil.js";import{J as G}from"./jszip.min-Cimci-sI.js";import{I}from"./input-rC0pfKxX.js";import{L as R}from"./label-C8zaT65I.js";import{S as Q,a as W,b as ee,c as se,d as z}from"./select-CxbQFBNs.js";import{B as te}from"./badge-DiAH8OnL.js";import{u as ae,L as le,P as ie}from"./useFile-DjdiTbuT.js";import{S as E}from"./scissors-DBYfWgva.js";import{U as L,D as re}from"./upload-CD0UYK1H.js";import{F as _}from"./file-text-DxiVD_fH.js";import{S as ce}from"./settings-BYB2mCJ1.js";import{C as ne}from"./circle-check-big-BIHbnpL-.js";import{C as de}from"./circle-alert-m03Axkez.js";import{A as oe}from"./arrow-left-DnwOAZsb.js";import"./index-C4rX9aOp.js";import"./index-VMlpAyxV.js";import"./useIndedxDB-Bgy_AGlL.js";const me=()=>{const[l,S]=a.useState(null),[p,T]=a.useState(!1),[P,v]=a.useState(0),[w,y]=a.useState(null),[C,A]=a.useState([]),[i,M]=a.useState("pages"),[r,O]=a.useState("1"),V=ae(),q=a.useCallback(s=>{var x;const t=(x=s.target.files)==null?void 0:x[0];t&&t.type==="application/pdf"?(S(t),y(null)):c({title:"Invalid File",description:"Please select a PDF file",variant:"destructive"}),s.target.value=""},[]),U=a.useCallback(()=>{S(null),y(null)},[]),H=async()=>{if(!l){c({title:"File Required",description:"Please select a PDF file first",variant:"destructive"});return}if(!r.trim()){c({title:"Split Configuration Required",description:"Please specify how to split the PDF",variant:"destructive"});return}try{const s=new FormData;s.append("file",l),s.append("splitType",i),s.append("splitValue",r);const x=await V({original_file:l,formData:s,setResult:y,setProgress:v,conversion_type:"split-pdf"}),D=await G.loadAsync(x.blob),k=[],$=i==="ranges"?r.split(","):[];let B=0;const K=Object.keys(D.files).sort((h,u)=>{var d,j;const n=parseInt(((d=h.match(/pages_(\d+)_to_\d+\.pdf/))==null?void 0:d[1])||"0",10),F=parseInt(((j=u.match(/pages_(\d+)_to_\d+\.pdf/))==null?void 0:j[1])||"0",10);return n-F});for(const h of K){const u=await D.files[h].async("blob");let n="";if(i==="pages"){const d=B+1,j=d+parseInt(r,10)-1;n=`${d}-${j}`,B+=parseInt(r,10)}else i==="ranges"&&(n=$.shift()||"");const F=URL.createObjectURL(u);k.push({filename:h,size:u.size,url:F,pageRange:n})}A(k),v(100),c({title:"Split Complete",description:"Your PDF was split successfully"})}catch(s){console.error("Split error:",s),c({title:"Split Failed",description:s.message||"Failed to split PDF. Please try again.",variant:"destructive"})}finally{T(!1),v(0)}},J=s=>{c({title:"Preparing download...",description:"Please wait while your PDF is being processed."});const t=document.createElement("a");t.href=s.url,t.download=s.filename,document.body.appendChild(t),t.click(),document.body.removeChild(t)};return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsx(o,{children:e.jsxs(g,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(E,{className:"h-8 w-8 text-primary"})}),e.jsx(f,{className:"text-2xl",children:"PDF Splitter"}),e.jsx(b,{children:"Split PDF files into smaller documents. Extract specific pages or divide into equal parts."})]})}),e.jsxs(o,{children:[e.jsxs(g,{children:[e.jsx(f,{className:"text-lg",children:"Select PDF File"}),e.jsx(b,{children:"Choose a PDF file to split into smaller documents."})]}),e.jsx(N,{className:"space-y-4",children:l?e.jsxs("div",{className:"flex items-center justify-between p-4 bg-secondary/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_,{className:"h-6 w-6 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:l.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[(l.size/(1024*1024)).toFixed(1)," MB"]})]})]}),e.jsx(m,{variant:"ghost",size:"sm",onClick:U,disabled:p,children:e.jsx(X,{className:"h-4 w-4"})})]}):e.jsx("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-primary/50 transition-colors",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(L,{className:"h-12 w-12 text-muted-foreground mx-auto"}),e.jsx("div",{children:e.jsxs("label",{htmlFor:"pdf-upload",className:"cursor-pointer",children:[e.jsx("span",{className:"text-lg font-medium text-foreground",children:"Drop your PDF here or click to browse"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Only PDF files are supported"}),e.jsx(I,{id:"pdf-upload",type:"file",accept:".pdf,application/pdf",onChange:q,className:"hidden"})]})}),e.jsxs(m,{variant:"outline",onClick:()=>{var s;return(s=document.getElementById("pdf-upload"))==null?void 0:s.click()},children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Select PDF File"]})]})})})]}),l&&e.jsxs(o,{children:[e.jsx(g,{children:e.jsxs(f,{className:"flex items-center space-x-2",children:[e.jsx(ce,{className:"h-5 w-5"}),e.jsx("span",{children:"Split Settings"})]})}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"split-type",children:"Split Method"}),e.jsxs(Q,{value:i,onValueChange:M,children:[e.jsx(W,{children:e.jsx(ee,{placeholder:"Select split method"})}),e.jsxs(se,{children:[e.jsx(z,{value:"pages",children:"Split by Pages per File"}),e.jsx(z,{value:"ranges",children:"Split by Page Ranges"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"split-value",children:i==="pages"?"Pages per File":"Page Ranges"}),e.jsx(I,{id:"split-value",placeholder:i==="pages"?"e.g., 2 (2 pages per file)":"e.g., 1-3,5-7,9 (specific ranges)",value:r,onChange:s=>O(s.target.value)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i==="pages"?"Number of pages each split file should contain":"Comma-separated page ranges (e.g., 1-3,5-7,9)"})]})]}),e.jsx(m,{onClick:H,disabled:!l||p||!r.trim(),className:"w-full",size:"lg",children:p?e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"h-4 w-4 mr-2 animate-spin"}),"Splitting PDF..."]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Split PDF"]})}),p&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Splitting PDF..."}),e.jsxs("span",{children:[Math.round(P),"%"]})]}),e.jsx(ie,{value:P,className:"w-full"})]})]})]}),w&&e.jsxs(o,{children:[e.jsxs(g,{children:[e.jsxs(f,{className:"flex items-center space-x-2",children:[e.jsx(ne,{className:"h-5 w-5 text-success"}),e.jsx("span",{children:"Split Completed"})]}),e.jsxs(b,{children:["Convertion Status : ",w.status]})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(te,{variant:"secondary",children:[C.length," file(s) created"]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.map((s,t)=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_,{className:"h-6 w-6 text-primary"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:s.filename}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pages: ",s.pageRange," •"," ",(s.size/1024).toFixed(1)," KB"]})]})]}),e.jsxs(m,{size:"sm",className:"w-full",onClick:()=>J(s),children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),"Download"]})]},t))})]})]}),e.jsx(o,{children:e.jsx(N,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(de,{className:"h-5 w-5 text-primary mt-0.5"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Split Options:"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Pages per File:"})," Split into files with equal number of pages"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Page Ranges:"})," Extract specific page ranges (e.g., 1-3,5-7,9)"]}),e.jsx("li",{children:"• Files are processed securely on our servers"}),e.jsx("li",{children:"• Maximum file size: 50MB for optimal performance"}),e.jsx("li",{children:"• Output format: Individual PDF files"})]})]})]})})})]})},pe=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[e.jsx("div",{className:"border-b border-border bg-background/95 backdrop-blur",children:e.jsx("div",{className:"container px-4 py-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(m,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs("a",{href:"../",children:[e.jsx(oe,{className:"h-4 w-4"}),"Back to Home"]})}),e.jsx("div",{className:"h-4 w-px bg-border"}),e.jsx("h1",{className:"font-semibold text-lg",children:"Split PDF"})]})})}),e.jsx("div",{className:"container px-4 py-8",children:e.jsx(me,{})})]})});Y(document.getElementById("root")).render(e.jsx(Z,{children:e.jsx(pe,{})}));
