import{a as z,r as n,j as e,g as T,o as J,t as c,c as K,P as X}from"./index-8DrkAZ6i.js";import{H as Q,F as W}from"./Footer-bobAsiZv.js";import{C as g,a as D,b,d as C,c as y,B as S}from"./card-Ds7FwNil.js";import{I as E}from"./input-rC0pfKxX.js";import{L as p}from"./label-C8zaT65I.js";import{T as Z}from"./textarea-7ShlJVMl.js";import{S as ee,a as se,b as te,c as ae,d as v}from"./select-CxbQFBNs.js";import{u as ie,L as re,P as ne}from"./useFile-DjdiTbuT.js";import{P as N}from"./pen-line-BtqcgSa6.js";import{U as le,D as de}from"./upload-CD0UYK1H.js";import{F as R}from"./file-text-DxiVD_fH.js";import{C as L}from"./circle-check-big-BIHbnpL-.js";import{I as ce}from"./image-CiFL8-20.js";import"./mail-Cyn88YpS.js";import"./index-C4rX9aOp.js";import"./index-VMlpAyxV.js";import"./useIndedxDB-Bgy_AGlL.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=z("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=z("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),me=J("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),M=n.forwardRef(({className:i,variant:l,...d},u)=>e.jsx("div",{ref:u,role:"alert",className:T(me({variant:l}),i),...d}));M.displayName="Alert";const pe=n.forwardRef(({className:i,...l},d)=>e.jsx("h5",{ref:d,className:T("mb-1 font-medium leading-none tracking-tight",i),...l}));pe.displayName="AlertTitle";const _=n.forwardRef(({className:i,...l},d)=>e.jsx("div",{ref:d,className:T("text-sm [&_p]:leading-relaxed",i),...l}));_.displayName="AlertDescription";const ue=()=>{const[i,l]=n.useState(null),[d,u]=n.useState(!1),[k,I]=n.useState(0),[o,h]=n.useState(null),[a,A]=n.useState(""),[f,B]=n.useState(""),[r,F]=n.useState({x:100,y:100}),j=n.useRef(null),[m,O]=n.useState(null),U=ie(),V=s=>{var x;const t=(x=s.target.files)==null?void 0:x[0];if(t&&t.type==="application/pdf"){if(t.size>50*1024*1024){c({title:"File too large",description:"Please select a PDF file smaller than 50MB",variant:"destructive"});return}l(t),h(null)}else c({title:"Invalid file type",description:"Please select a PDF file",variant:"destructive"})},H=s=>{s.preventDefault();const t=s.dataTransfer.files[0];if(t&&t.type==="application/pdf"){if(t.size>50*1024*1024){c({title:"File too large",description:"Please select a PDF file smaller than 50MB",variant:"destructive"});return}l(t),h(null)}},Y=s=>{s.preventDefault()},$=async()=>{if(!i||!a){c({title:"Missing information",description:"Please select a file and edit type",variant:"destructive"});return}try{const s=new FormData;if(s.append("file",i),s.append("editType",a),a==="add-image"){if(!m){c({title:"No image selected",description:"Please select an image to add",variant:"destructive"}),u(!1);return}s.append("imageFile",m)}let t={};a==="add-text"?t={content:f,x:r.x,y:r.y}:a==="add-signature"?t={content:f,x:r.x,y:r.y}:a==="add-annotation"?t={content:f,x:r.x,y:r.y}:t={x:r.x,y:r.y},s.append("editData",JSON.stringify(t)),await U({original_file:i,formData:s,setResult:h,setProgress:I,conversion_type:"edit"}),c({title:"PDF edited successfully!",description:"Your edited PDF is ready for download"})}catch(s){console.error("Edit error:",s),c({title:"Edit failed",description:s instanceof Error?s.message:"An error occurred while editing the PDF",variant:"destructive"})}finally{u(!1),I(0)}},q=async()=>{if(!o||!o.blob)return;c({title:"Preparing download...",description:"Please wait while your PDF is being processed."});const s=URL.createObjectURL(o.blob),t=document.createElement("a");t.href=s,t.download=o.converted_filename,document.body.appendChild(t),t.click(),document.body.removeChild(t)},w=s=>{const t=["B","KB","MB","GB"];let x=s,P=0;for(;x>=1024&&P<t.length-1;)x/=1024,P++;return`${x.toFixed(1)} ${t[P]}`},G=()=>{l(null),h(null),A(""),B(""),F({x:100,y:100}),j.current&&(j.current.value="")};return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-primary rounded-xl shadow-soft",children:e.jsx(N,{className:"h-6 w-6 text-primary-foreground"})}),e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Edit PDF"})]}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Add text, annotations, signatures, and other elements to your PDF documents"})]}),e.jsxs("div",{className:"grid gap-8 lg:grid-cols-2",children:[e.jsxs(g,{className:"shadow-medium",children:[e.jsxs(D,{children:[e.jsxs(b,{className:"flex items-center space-x-2",children:[e.jsx(le,{className:"h-5 w-5"}),e.jsx("span",{children:"Upload PDF"})]}),e.jsx(C,{children:"Select a PDF file to edit (max 50MB)"})]}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-primary/50 transition-colors cursor-pointer",onDrop:H,onDragOver:Y,onClick:()=>{var s;return(s=j.current)==null?void 0:s.click()},children:[e.jsx(R,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:i?i.name:"Click to upload or drag and drop"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"PDF files only, up to 50MB"})]})]}),e.jsx("input",{ref:j,type:"file",accept:".pdf",onChange:V,className:"hidden"}),i&&e.jsxs(M,{children:[e.jsx(L,{className:"h-4 w-4"}),e.jsxs(_,{children:["Selected: ",i.name," (",w(i.size),")"]})]})]})]}),e.jsxs(g,{className:"shadow-medium",children:[e.jsxs(D,{children:[e.jsxs(b,{className:"flex items-center space-x-2",children:[e.jsx(N,{className:"h-5 w-5"}),e.jsx("span",{children:"Edit Options"})]}),e.jsx(C,{children:"Choose what you want to add to your PDF"})]}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"edit-type",children:"Edit Type"}),e.jsxs(ee,{value:a,onValueChange:A,children:[e.jsx(se,{children:e.jsx(te,{placeholder:"Select edit type"})}),e.jsxs(ae,{children:[e.jsx(v,{value:"add-text",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xe,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Text"})]})}),e.jsx(v,{value:"add-signature",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Signature"})]})}),e.jsx(v,{value:"add-annotation",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oe,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Annotation"})]})}),e.jsx(v,{value:"add-image",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ce,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Image"})]})})]})]})]}),a&&["add-text","add-signature","add-annotation"].includes(a)&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"text-content",children:a==="add-text"?"Text Content":a==="add-signature"?"Signature Text":"Annotation"}),e.jsx(Z,{id:"text-content",placeholder:`Enter ${a==="add-text"?"text":a==="add-signature"?"signature":"annotation"} content...`,value:f,onChange:s=>B(s.target.value),rows:3})]}),a==="add-image"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"image-upload",children:"Select Image"}),e.jsx(E,{id:"image-upload",type:"file",accept:"image/*",onChange:s=>{var t;return O(((t=s.target.files)==null?void 0:t[0])||null)}}),m&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected: ",m.name," (",w(m.size),")"]})]}),a&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"position-x",children:"X Position"}),e.jsx(E,{id:"position-x",type:"number",value:r.x,onChange:s=>F({...r,x:parseInt(s.target.value)||0}),placeholder:"100"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"position-y",children:"Y Position"}),e.jsx(E,{id:"position-y",type:"number",value:r.y,onChange:s=>F({...r,y:parseInt(s.target.value)||0}),placeholder:"100"})]})]}),e.jsx(S,{onClick:$,disabled:!i||!a||d,className:"w-full",children:d?e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"mr-2 h-4 w-4 animate-spin"}),"Editing PDF..."]}):e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),"Edit PDF"]})})]})]})]}),d&&e.jsx(g,{className:"shadow-medium",children:e.jsx(y,{className:"pt-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Editing PDF..."}),e.jsxs("span",{children:[k,"%"]})]}),e.jsx(ne,{value:k,className:"w-full"})]})})}),o&&e.jsxs(g,{className:"shadow-medium",children:[e.jsxs(D,{children:[e.jsxs(b,{className:"flex items-center space-x-2",children:[e.jsx(L,{className:"h-5 w-5 text-success"}),e.jsx("span",{children:"PDF Edited Successfully!"})]}),e.jsx(C,{children:"Your PDF has been edited and is ready for download"})]}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-secondary rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(R,{className:"h-8 w-8 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:o.converted_filename}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[w(o.file_size)," â€¢ ",a]})]})]}),e.jsxs(S,{onClick:q,children:[e.jsx(de,{className:"mr-2 h-4 w-4"}),"Download"]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsx(S,{onClick:G,variant:"outline",className:"flex-1",children:"Edit Another PDF"})})]})]})]})},he=()=>e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Q,{}),e.jsx("main",{className:"py-24",children:e.jsx("div",{className:"container px-4",children:e.jsx(ue,{})})}),e.jsx(W,{})]});K(document.getElementById("root")).render(e.jsx(X,{children:e.jsx(he,{})}));
